<!DOCTYPE html>
<html>

<head>
    <title>The Blue Alliance API Test</title>
</head>

<body>
    <div class='teaminfo'>
        My team: <span id='teamnickname'></span><br/> City: <span id='city'></span><br/>

    </div>
    <div class='rawresult'>

        Raw result:
        <div id='result'></div>
    </div>

    <script type="text/javascript" src="apiKey.js"></script>

    <script>
        // can do Synchronous:
        // var xhr = new XMLHttpRequest();
        // xhr.open("GET", "https://www.thebluealliance.com/api/v3/team/frc3966", false);
        // xhr.setRequestHeader("accept", "application/json");
        // xhr.setRequestHeader("X-TBA-Auth-Key", apiKey);
        // xhr.send();
        // var response = JSON.parse(xhr.responseText);
        // //alert(xhr.responseText);
        // document.getElementById('result').innerText = xhr.responseText;

        // OR Asynchronous:
        var xhr = new XMLHttpRequest();
        xhr.open("GET", "https://www.thebluealliance.com/api/v3/team/frc3966", true);
        xhr.setRequestHeader("accept", "application/json");
        xhr.setRequestHeader("X-TBA-Auth-Key", apiKey);
        xhr.send();
        xhr.onload = function (e) {
            var response = JSON.parse(xhr.responseText);
            //alert(xhr.responseText);
            document.getElementById('result').innerText = xhr.responseText;

            document.getElementById('teamnickname').innerText = response.nickname;
            document.getElementById('city').innerText = response.city;
        }
    </script>
    <style>
        #teamnickname {
            color: blue;
        }

        #city {
            color: red;
        }

        .teaminfo {
            padding: 10px;
        }

        .rawresult {
            position: fixed;
            top: 200px;
            bottom: 0;
            overflow: scroll;
            background-color: lightblue;
        }
    </style>
</body>

</html>